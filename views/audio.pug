extends layout

block content
  div.container.py-4
    h1.text-center.mb-4 Cambiar tono

    // Formulario para cargar audio
    form#uploadForm(method="POST", enctype="multipart/form-data")
      div.mb-3
        label(for="audioFile", class="form-label") Selecciona tu archivo de audio:
        input.form-control(type="file", id="audioFile", name="audioFile", accept="audio/*", required)
      button.btn.btn-primary.mt-2(type="button", id="processAudio") Procesar Audio

    // Controles de tono (se ocultan inicialmente)
    div#pitchControlContainer(style="display:none;")
      div.mt-4
        // Contenedor del visualizador (barras de sonido)
        div.mt-4#visualizer
          canvas(width="600", height="100", style="display: none; border: 1px solid #ccc;")
        div.mt-4.text-center
          button.btn.btn-primary(type="button", id="playPauseAudio", style="display:none;") Reproducir/Pausar Audio

        div.d-flex.align-items-center.mt-2
          label(for='pitchControl', class='me-2') Tono:
          input#pitchControl(type='range', min='0.5', max='2', step='0.1', value='1', style='width: 70%;')
          span#pitchValue(class='ms-2') 1.0

      // Bot√≥n de grabar
      div.mt-4.text-center
        button.btn.btn-success(type="button", id="startRecording", disabled=true) Cambiar tono

  script(src="/javascripts/audio.js")
  script(src="https://unpkg.com/wavesurfer.js")

